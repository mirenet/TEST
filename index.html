<!doctype html>
<html lang="sr">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>YouTube autoplay + Mute Toggle (Stable)</title>

<style>
body{
  margin:0;
  font-family:Arial,Helvetica,sans-serif;
  background:#111;
  color:#fff;
  display:flex;
  justify-content:center;
  padding:20px;
}
.wrap{width:100%;max-width:900px}
.player-wrap{
  border-radius:12px;
  overflow:hidden;
  background:#000;
  box-shadow:0 12px 30px rgba(0,0,0,.6);
}
#player{
  width:100%;
  aspect-ratio:16/9;
}
.controls{
  margin-top:15px;
  text-align:center;
}
button{
  cursor:pointer;
  border:0;
  padding:12px 18px;
  border-radius:8px;
  background:#6b8e23;
  color:#fff;
  font-weight:700;
  font-size:16px;
}
</style>
</head>

<body>
<div class="wrap">

<h2>YouTube autoplay (muted) + Unmute/Play</h2>

<div class="player-wrap">
  <div id="player"></div>
</div>

<div class="controls">
  <button id="muteToggle">Unmute & Play</button>
</div>

</div>

<script src="https://www.youtube.com/iframe_api"></script>
<script>
let player;
let isMuted = true;

// VIDEO ID â€” promeni po potrebi
const VIDEO_ID = "79fzeNUqQbQ";

// inicijalizacija player-a
function onYouTubeIframeAPIReady() {
  player = new YT.Player('player', {
    videoId: VIDEO_ID,
    playerVars: {
      autoplay: 1,
      mute: 1,
      playsinline: 1,
      controls: 1,
      rel: 0
    },
    events: {
      onReady: function(event) {
        event.target.mute();       // start mutiran
        event.target.playVideo();  // start autoplay
      }
    }
  });
}

// dugme za mute/unmute
document.getElementById("muteToggle").addEventListener("click", function(){
  if (!player) return;

  if (isMuted) {
    player.unMute();
    player.playVideo();   // ðŸ”‘ unMute + play u istom click eventu
    this.textContent = "Mute";
    isMuted = false;
  } else {
    player.mute();
    this.textContent = "Unmute & Play";
    isMuted = true;
  }
});
</script>

</body>
</html>
