<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>YouTube Auto Fill Test</title>

<style>
body{
    margin:0;
    font-family:Arial;
    background:#111;
    color:white;
    text-align:center;
    padding-bottom:220px;
}

.section{
    margin:20px 0;
}

input{
    width:120px;
    padding:8px;
    margin:5px 0;
    font-size:16px;
    text-align:center;
}

button{
    padding:10px;
    margin-top:10px;
    font-size:16px;
    width:140px;
}

#video-wrapper{
    position:fixed;
    bottom:0;
    left:0;
    width:100%;
    display:flex;
    justify-content:center;
}

.video-container{
    position:relative;
    overflow:hidden;
    background:black;
}

.video-container iframe{
    position:absolute;
    top:50%;
    left:50%;
    transform:translate(-50%, -50%);
}
</style>
</head>

<body>

<h3>PIXELS</h3>

<div class="section">
    Width (px)<br>
    <input type="number" id="widthPx" value="240"><br>

    Height (px)<br>
    <input type="number" id="heightPx" value="140"><br>

    <button onclick="applySize()">APPLY</button>
</div>

<div>
    <button onclick="nextVideo()">NEXT â–¶</button>
</div>

<div id="video-wrapper">
    <div class="video-container" id="container" style="width:240px;height:140px;">
        <div id="player"></div>
    </div>
</div>

<script src="https://www.youtube.com/iframe_api"></script>

<script>

let videos = [
"dQw4w9WgXcQ",
"3tmd-ClpJxA",
"kJQP7kiw5Fk",
"9bZkp7q19f0",
"fRh_vgS2dFE",
"RgKAFK5djSk",
"OPf0YbXqDm0",
"JGwWNGJdvx8",
"YQHsXMglC9A",
"60ItHLz5WEA"
];

let current = 0;
let player;

function onYouTubeIframeAPIReady(){
    player = new YT.Player('player', {
        videoId: videos[current],
        playerVars: {
            autoplay: 1,
            controls: 1,
            rel: 0
        },
        events: {
            'onReady': resizeVideo
        }
    });
}

function resizeVideo(){
    let container = document.getElementById("container");
    let cw = container.offsetWidth;
    let ch = container.offsetHeight;

    let videoRatio = 16/9; // default
    let containerRatio = cw/ch;

    let width, height;

    if(containerRatio > videoRatio){
        width = cw;
        height = cw / videoRatio;
    }else{
        height = ch;
        width = ch * videoRatio;
    }

    let iframe = player.getIframe();
    iframe.style.width = width + "px";
    iframe.style.height = height + "px";
}

function applySize(){
    let w = document.getElementById("widthPx").value;
    let h = document.getElementById("heightPx").value;

    let container = document.getElementById("container");
    container.style.width = w + "px";
    container.style.height = h + "px";

    setTimeout(resizeVideo, 100);
}

function nextVideo(){
    current = (current + 1) % videos.length;
    player.loadVideoById(videos[current]);
    setTimeout(resizeVideo, 300);
}

</script>

</body>
</html>
