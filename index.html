<!doctype html>
<html lang="sr">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Muted autoplay test</title>

<style>
body{
  margin:0;
  font-family:Arial,Helvetica,sans-serif;
  background:#111;
  color:#fff;
  display:flex;
  justify-content:center;
  padding:20px;
}
.wrap{width:100%;max-width:900px}
.player-wrap{
  position:relative;
  border-radius:12px;
  overflow:hidden;
  background:#000;
  box-shadow:0 12px 30px rgba(0,0,0,.6)
}
.video-iframe{
  width:100%;
  aspect-ratio:16/9;
  border:0;
  display:block;
}
.overlay{
  position:absolute;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
  z-index:10;
  background:rgba(0,0,0,0.55);
}
.card{
  background:rgba(0,0,0,0.75);
  padding:20px;
  border-radius:12px;
  text-align:center;
}
button{
  cursor:pointer;
  border:0;
  padding:10px 14px;
  border-radius:8px;
  margin:6px;
}
.btn-primary{background:#6b8e23;color:#fff;font-weight:700}
.btn-alt{background:#333;color:#ddd}
.hidden{display:none}
</style>
</head>

<body>
<div class="wrap">

<h2>Muted autoplay test</h2>
<p style="color:#ccc">
Ako autoplay ne krene u Via browseru — klikni “Tap to unmute”.
</p>

<div class="player-wrap">
  <iframe
    id="yt"
    class="video-iframe"
    allow="autoplay; encrypted-media"
    allowfullscreen>
  </iframe>

  <div class="overlay" id="overlay">
    <div class="card">
      <div style="margin-bottom:10px;font-size:18px;">Tap to unmute</div>
      <button id="tapBtn" class="btn-primary">Tap to unmute</button>
      <button id="openBtn" class="btn-alt">Open on YouTube</button>
    </div>
  </div>
</div>

</div>

<script>
(function(){

  // SAMO OVO MENJAŠ AKO MENJAŠ VIDEO
  const VIDEO_ID = "79fzeNUqQbQ";

  const iframe = document.getElementById("yt");
  const overlay = document.getElementById("overlay");
  const tapBtn = document.getElementById("tapBtn");
  const openBtn = document.getElementById("openBtn");

  // 1️⃣ load muted autoplay (najstabilnija varijanta)
  function loadMuted(){
    iframe.src =
      "https://www.youtube.com/embed/" +
      VIDEO_ID +
      "?playsinline=1&autoplay=1&mute=1";
  }

  // 2️⃣ iz korisničke geste reload bez mute
  function unmute(){
    iframe.src =
      "https://www.youtube.com/embed/" +
      VIDEO_ID +
      "?playsinline=1&autoplay=1";
    overlay.classList.add("hidden");
  }

  function openYT(){
    window.open(
      "https://www.youtube.com/watch?v=" + VIDEO_ID,
      "_blank"
    );
  }

  tapBtn.addEventListener("click", unmute);
  openBtn.addEventListener("click", openYT);

  loadMuted();

})();
</script>

</body>
</html>
