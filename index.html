<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Floating YouTube Player</title>

<style>
body{
    margin:0;
    height:200vh;
    background:#111;
    font-family:Arial;
    color:white;
}

/* Floating box */
#floating-player{
    position:fixed;
    bottom:20px;
    right:20px;
    width:160px;
    height:90px;
    background:#000;
    border-radius:14px;
    box-shadow:0 10px 25px rgba(0,0,0,0.5);
    overflow:hidden;
    z-index:9999;
    touch-action:none;
}

/* Drag area */
#drag-handle{
    position:absolute;
    top:0;
    left:0;
    width:100%;
    height:24px;
    background:rgba(0,0,0,0.4);
    cursor:grab;
    z-index:10;
}

/* Resize handle */
#resize-handle{
    position:absolute;
    width:18px;
    height:18px;
    right:0;
    bottom:0;
    background:rgba(255,255,255,0.4);
    border-top-left-radius:6px;
    cursor:nwse-resize;
    z-index:10;
}

#player{
    width:100%;
    height:100%;
}
</style>
</head>

<body>

<div id="floating-player">
    <div id="drag-handle"></div>
    <div id="player"></div>
    <div id="resize-handle"></div>
</div>

<script src="https://www.youtube.com/iframe_api"></script>

<script>
let player;

function onYouTubeIframeAPIReady(){
    player = new YT.Player('player', {
        videoId: "dQw4w9WgXcQ",
        playerVars:{
            autoplay:1,
            controls:1,
            playsinline:1,
            rel:0
        }
    });
}

/* DRAG */
const box = document.getElementById("floating-player");
const dragHandle = document.getElementById("drag-handle");
const resizeHandle = document.getElementById("resize-handle");

let isDragging = false;
let isResizing = false;

let startX, startY, startWidth, startHeight;

dragHandle.addEventListener("pointerdown", e=>{
    isDragging = true;
    startX = e.clientX - box.offsetLeft;
    startY = e.clientY - box.offsetTop;
    dragHandle.style.cursor="grabbing";
});

document.addEventListener("pointermove", e=>{
    if(isDragging){
        box.style.left = (e.clientX - startX) + "px";
        box.style.top = (e.clientY - startY) + "px";
        box.style.right = "auto";
        box.style.bottom = "auto";
    }

    if(isResizing){
        let newWidth = startWidth + (e.clientX - startX);
        let newHeight = startHeight + (e.clientY - startY);

        if(newWidth > 120 && newHeight > 70){
            box.style.width = newWidth + "px";
            box.style.height = newHeight + "px";
        }
    }
});

document.addEventListener("pointerup", ()=>{
    isDragging = false;
    isResizing = false;
    dragHandle.style.cursor="grab";
});

/* RESIZE */
resizeHandle.addEventListener("pointerdown", e=>{
    isResizing = true;
    startX = e.clientX;
    startY = e.clientY;
    startWidth = box.offsetWidth;
    startHeight = box.offsetHeight;
});
</script>

</body>
</html>
